<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/png" href="img/topi-chef.png" />
    <title>Let's Start</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
</head>
<body class="container px-lg-4 px-md-4 px-0" style="background: ghostwhite;">
    <header class="mt-4">
        <img-brand class="d-flex align-content-center"></img-brand>
            <nav class=" d-none d-lg-flex bg-info text-center text-white">
                  <div class="p-2 flex-fill "> <i class="fas fa-home"> Home</i></div>
                <div class="p-2 flex-fill " > <a href="" id="japanese" class="text-white">Japanese</a> </div>
                <div class="p-2 flex-fill ">Chinese</div>
                <div class="p-2 flex-fill ">Korea</div>
                <div class="p-2 flex-fill ">Italia</div>
                <div class="p-2 flex-fill ">Spanish</div>
            </nav>
        <search-recipe class="row mt-3 mb-2"></search-recipe>
    </header>


<main class="row p-lg-3 p-md-3 pl-lg-5 pl-md-5 pr-lg-5 pr-md-5 px-0" id="main">
 
</main>
<footer>
<ul class="d-lg-none list-group list-group-flush">
    <li class="list-group-item pl-sm-2 pl-md-4"><i class="fas fa-home"> Home</i></li>
    <li class="list-group-item pl-sm-2 pl-md-4">Japanese</li>
    <li class="list-group-item pl-sm-2 pl-md-4">Chinese</li>
    <li class="list-group-item pl-sm-2 pl-md-4">Korea</li>
    <li class="list-group-item pl-sm-2 pl-md-4">Italia</li>
    <li class="list-group-item pl-sm-2 pl-md-4">Spanish</li>
</ul>

    <div class=" d-none d-lg-flex  bg-info text-white">
        <div class="p-2 pl-3 ">Follow US</div>
        <div class="p-2 pl-3 ">
            <i class="fab fa-facebook-f "></i>
        </div>
        <div class="p-2 pl-3 ">
            <i class="fab fa-instagram "></i>
        </div>
        <div class="p-2 pl-3 ">
            <i class="fab fa-twitter "></i>
        </div>
        <div class="p-2 pl-3 ">
            <i class="fab fa-youtube "></i>
        </div>
    </div>

    <div class="d-flex flex-lg-row  flex-column bd-highlight  bg-info text-white text-center">
        <!-- <div class="p-2 flex-grow-1 bd-highlight"> &copy; <span id="year"></span> - KambingKacangKU</div> -->
        <div class="p-2 flex-lg-grow-1 bd-highlight"> &copy; <span>2020</span> - let's cook </div>
        <div class="p-2 pl-3  bd-highlight">Tentang Kami</div>
        <div class="p-2 pr-3 bd-highlight">FAQ</div>
    </div>
</footer>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script>
    <script src="ImgBrand.js"></script>
    <script src="SearchRecipe.js"></script>
    <script>
        // 9799e4a8262c49c1b03f3dc9355932b0
    // b767ad49f6e345529694c796f1488384
     const apiKey ="apiKey=636bbc3497d5423e828a27c525089040";
        	$(document).ready(function () {
                const minProtein = Math.floor(Math.random() * (50 - 10 + 1)) + 10;
                const maxProtein = Math.floor(Math.random() * (100 - 50 + 1)) + 50;
               
                $.get("https://api.spoonacular.com/recipes/findByNutrients?minCarbs="+minProtein+
                "&maxCarbs="+maxProtein+"&number=8&"+apiKey,
                    function (data) {
                        $.each(data, function (i) {
                            console.log(data[i].title);
                        
                         
                            $('#main').append(`<div class="col-lg-3 col-md-4 col-12 p-lg-2 p-md-2 text-center" >
        <div class="card " style="">
            <img src="${data[i].image}" class="card-img-top" alt="...">
            <div class="card-body">
                <p class="card-title"><a  class="food-recipe " href="${data[i].id}"
                        id="${data[i].image}">${data[i].title}</a>
                </p>
            </div>
        </div>
  </div>`
                            );
            });

              $('.food-recipe').click(function (e) {
              e.preventDefault();
              const a = $(this).attr('href');
              const b = $(this).attr('id');
              const c = $(this).text();
                $('#main').html("");
                const test = "https://api.spoonacular.com/recipes/"+a+"/nutritionWidget.json?"+apiKey;
                console.log(test);
                $.get(test,
                    function (data) {
                        $('#main').append(`
                         <div class="d-none d-lg-block col-lg-4 pl-0 pr-0 pr-lg-3">
                             <div class="card" style="">
                                 <img src="${b}" class="card-img-top"
                                     alt="...">
                                 <div class="card-body">
                                     <h5 class="card-title">${c}</h5>
                                     <ul class="list-group list-group-flush">
                                         <li class="list-group-item">Calories: ${data.calories}</li>
                                         <li class="list-group-item">Carbs: ${data.carbs}</li>
                                         <li class="list-group-item">Fat: ${data.fat}</li>
                                         <li class="list-group-item">Protein: ${data.protein}</li>
                                     </ul>
                                 </div>
                             </div>
                         </div>
                        `
                        );
                    }
                );

            //     $.get(test,
            //     function (data) {
            //      $('#main').append(`<div class="col-lg-8 pt-lg-4 mt-lg-0 pt-0  mt-3 text-center bg-white rounded">`);
            //      $.each(data, function (i) {
            //      console.log(data);
               
            //         $('#main').append(`
            //   <h3 class="text-center">Step</h3>
            //   <div class="col-12 text-left">
            //       <ul class="list-group list-group-flush text-justify">
            //           <li class="list-group-item ">
            //               <div class="row">
            //                   <div class="col-lg-1 col-1 pr-lg-0 pr-2">1.</div>
            //                   <div class="col-lg-11 col-11 pl-lg-0 pr-2">
            //                       If you have not tried anchovies before - you must try them now! Get over any weird
            //                       apprehensions
            //                       or
            //                       that its just bait or a punchline for a joke about pizza (\"extra anchovies\")! These
            //                       little
            //                       suckers
            //                       are
            //                       delicious &amp; actually good for you!
            //                   </div>
            //               </div>
            //           </li>
            //       </ul>
            //   </div>
            //     `
            //     );
            //       });
            //        $('#main').append(`</div>`);
            //     }
            //     );

              });
         });

       japanese()
         
    });
  
  
    function japanese(){
        $('#japanese').click(function (e) {
        e.preventDefault();
        $('#main').html("");
        $.get("https://api.spoonacular.com/recipes/complexSearch?cuisine=Chinese&number=8&"+apiKey,
        function (data) {
        $.each(data.results, function (i) {
        console.log(data.results[i].image);
        $('#main').append(`<div class="col-lg-3 p-2">
            <div class="card " style="">
                <img src="${data.results[i].image}" class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">${data.results[i].title}</h5>
                    <p class="card-text ">Some quick example text to build on the card title and make up the bulk of the
                        card's
                        content.</p>
                    <a href="#" class="btn btn-primary">Go somewhere</a>
                </div>
            </div>
        </div>`
        );
        });
        });
        });
    }
    </script>
</body>
</html>